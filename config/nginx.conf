worker_processes 1;

events {
    worker_connections 1024;
}

http {
    include mime.types;
    default_type application/octet-stream;

    sendfile on;
    keepalive_timeout 65;

    error_page 500 502 503 504 /50x.html;


    server {
         listen  80;
         server_name  demochain.org;

         charset utf-8;
         location / {
            root /usr/local/web/demochain.org/dist;
            index index.html index.htm;
            try_files $uri $uri/ /index.html;
         }
    }

    server {
        listen  443 ssl;
        server_name  demochain.org;

         ssl_certificate    /usr/local/web/cert/watoukuang.com.pem;
         ssl_certificate_key  /usr/local/web/cert/watoukuang.com.key;
         ssl_session_timeout 5m;
         ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
         ssl_protocols TLSv1.2;
         ssl_prefer_server_ciphers on;

         charset utf-8;
         location / {
            root /usr/local/web/demochain.org/dist;
            index index.html index.htm;
            try_files $uri $uri/ /index.html;
         }
    }

}