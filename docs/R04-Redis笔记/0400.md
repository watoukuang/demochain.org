# æ•°æ®ç»“æ„
---
åœ¨å­¦ä¹ ä»»ä½•æŠ€æœ¯ä¹‹å‰ï¼Œæˆ‘æ€»æ˜¯ä¹ æƒ¯å…ˆæ€è€ƒï¼šå®ƒçš„å‡ºç°èƒŒåæœ‰ä»€ä¹ˆæ·±å±‚æ¬¡çš„æ„ä¹‰ï¼ŸğŸ¤” å¦‚æœæ²¡æœ‰å®ƒï¼Œæ˜¯å¦è¿˜æœ‰å…¶ä»–å¯è¡Œçš„è§£å†³æ–¹æ¡ˆï¼Ÿä»Šå¤©ï¼Œæˆ‘ä»¬æ¥æ¢è®¨ä¸€ä¸‹Redisçš„èƒŒæ™¯ï¼Œä»¥åŠå¦‚æœæ²¡æœ‰Redisï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨Javaæ—¶å¯èƒ½é¢ä¸´çš„æŒ‘æˆ˜ã€‚

**1. å•æœºæ—¶ä»£ï¼šç”¨é›†åˆå­˜å‚¨æ•°æ® ğŸ–¥ï¸**   
- **å°‘é‡æ•°æ®æ—¶**ï¼šæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨é›†åˆæˆ–ç°æˆçš„å®‰å…¨é›†åˆç¼“å­˜æ•°æ®ï¼Œç®€å•é«˜æ•ˆã€‚âš¡
- **æ•°æ®é‡æ¿€å¢æ—¶**ï¼šå½“æ•°æ®é‡é£™å‡æ—¶ï¼Œå†…å­˜æ’‘ä¸ä½ï¼Œ`OutOfMemoryError` ç›´æ¥è®©åº”ç”¨å´©æºƒã€‚ğŸ’¥

**2. å¤šå®ä¾‹æ—¶ä»£ï¼šæ•°æ®å¦‚ä½•å…±äº«? ğŸ”„**  
éšç€åº”ç”¨éƒ¨ç½²å¤šä¸ªå®ä¾‹ï¼ˆæ¯”å¦‚ï¼šåº”ç”¨Aå’Œåº”ç”¨Bï¼‰ï¼Œæ¯ä¸ªå®ä¾‹çš„å†…å­˜æ˜¯éš”ç¦»çš„ï¼Œé›†åˆé‡Œçš„æ•°æ®æ— æ³•ç›´æ¥å…±äº«ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œç”¨æˆ·ç™»å½•åï¼Œåº”ç”¨Aåœ¨å†…å­˜ä¸­ä¿å­˜äº†Sessionæ•°æ®ï¼Œä½†åº”ç”¨Bå´æ— æ³•è®¿é—®åˆ°è¿™ä¸ªSessionï¼Œå¯¼è‡´ç”¨æˆ·å¿…é¡»é‡å¤ç™»å½•ã€‚ğŸ”’

**é’ˆå¯¹ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ï¼Œå¦‚æœæ²¡æœ‰Redisï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠï¼Ÿ ğŸ¤·â€â™‚ï¸**

å‡è®¾æ²¡æœ‰Redisçš„å¸®åŠ©ï¼Œä»¥ä¸‹æ˜¯æˆ‘æƒ³å‡ºæ¥çš„ä¸¤ç§å¯èƒ½æ–¹æ¡ˆï¼š

- **æ–¹æ¡ˆ1ï¼šç”¨æ•°æ®åº“ï¼ˆå¦‚MySQLï¼‰å½“ç¼“å­˜**  
  å°½ç®¡æ•°æ®åº“èƒ½å¤Ÿå­˜å‚¨æ•°æ®ï¼Œä½†å®ƒçš„è®¿é—®é€Ÿåº¦æ— æ³•ä¸å†…å­˜ä¸­çš„æ•°æ®å­˜å–ç›¸æ¯”ã€‚è€Œä¸”ï¼Œå½“ç³»ç»Ÿé¢ä¸´é«˜å¹¶å‘æ—¶ï¼Œæ•°æ®åº“å¾ˆå®¹æ˜“æˆä¸ºç“¶é¢ˆï¼Œæ— æ³•æ‰¿è½½å¦‚æ­¤åºå¤§çš„è¯·æ±‚é‡ã€‚ğŸ¢

- **æ–¹æ¡ˆ2ï¼šè‡ªå·±å®ç°ä¸€ä¸ªå…±äº«å†…å­˜æœåŠ¡**  
  ä½ å¯ä»¥å°è¯•è‡ªå®šä¹‰ä¸€ä¸ªå…±äº«å†…å­˜æœåŠ¡ï¼Œä½†è¿™æ— ç–‘ä¼šå¤§å¤§å¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ï¼ŒåŒæ—¶å¸¦æ¥ä¸å°çš„ç¨³å®šæ€§é£é™©ã€‚åœ¨æ²¡æœ‰Redisçš„æƒ…å†µä¸‹ï¼Œå¼€å‘è€…ä¸ä»…éœ€è¦å¤„ç†å†…å­˜ç®¡ç†ï¼Œè¿˜è¦è€ƒè™‘é«˜å¯ç”¨ã€æ•…éšœæ¢å¤ç­‰å¤æ‚é—®é¢˜ã€‚âš™ï¸ Redisçš„å‡ºç°è§£å†³äº†åœ¨å•æœºæˆ–å¤šå®ä¾‹æƒ…å†µä¸‹çš„æ•°æ®å…±äº«é—®é¢˜ï¼Œå¹¶æä¾›äº†æé«˜çš„æ€§èƒ½ã€‚å®ƒçš„å‡ºç°è®©æˆ‘ä»¬æ— éœ€ä»å¤´å¼€å§‹å®ç°è¿™äº›å¤æ‚çš„æœºåˆ¶ï¼Œå¯ä»¥ä¸“æ³¨äºæ›´é«˜å±‚æ¬¡çš„ä¸šåŠ¡é€»è¾‘ï¼Œæå¤§åœ°æå‡äº†å¼€å‘æ•ˆç‡ã€‚ğŸš€


æŠŠRedisçš„èƒŒåæ„ä¹‰æƒ³æ˜ç™½åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å­¦ä¹ å®ƒçš„åŸºæœ¬æ•°æ®ç»“æ„ã€‚Rediså…¶å®å°±æ˜¯ä¿å­˜ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„çŠ¶æ€ã€‚ä¸ºäº†æ›´å¥½ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥å°†Redisçš„å„ä¸ªæ•°æ®ç»“æ„ä¸Javaä¸­çš„é›†åˆç±»è¿›è¡Œå¯¹æ¯”ã€‚ğŸ“š

Redisçš„ä¸»è¦æ•°æ®ç»“æ„æœ‰ï¼šSTRING(å­—ç¬¦ä¸²)ã€LIST(åˆ—è¡¨)ã€SET(é›†åˆ)ã€HASH(æ•£åˆ—)ã€ZSET(æœ‰åºé›†åˆ)

## STRINGï¼ˆå­—ç¬¦ä¸²ï¼‰
### åŸºç¡€æ“ä½œ

- SET è®¾ç½®å€¼
- GET è·å–å€¼
- DEL åˆ é™¤å€¼

```shell
127.0.0.1:6379> set hello world
OK
127.0.0.1:6379> get hello
"world"
127.0.0.1:6379> del hello
(integer) 1
127.0.0.1:6379> get hello
(nil)
127.0.0.1:6379>
```
å¸¸ç”¨APIï¼š
| API                     | è¯´æ˜                                | å¤æ‚åº¦ |
|-------------------------|-------------------------------------|--------|
| get key                 | è·å–keyå¯¹åº”çš„value                  | O(1)   |
| set key value           | è®¾ç½®key-valueï¼Œä¸ç®¡keyæ˜¯å¦å­˜åœ¨ï¼Œéƒ½è®¾ç½® | O(1)   |
| del key                 | åˆ é™¤key-value                       | O(1)   |
| incr key                | keyè‡ªå¢1ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œè‡ªå¢åget(key)=1 | O(1)   |
| decr key                | keyè‡ªå‡1ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œè‡ªå‡åget(key)=-1 | O(1)   |
| incrby key k           | keyè‡ªå¢kï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œè‡ªå¢åget(key)=k | O(1)   |
| decrby key k           | keyè‡ªå‡kï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œè‡ªå‡åget(key)=-k | O(1)   |
| setnx key value         | keyä¸å­˜åœ¨ï¼Œæ‰è®¾ç½®                    | O(1)   |
| set key value xx       | keyå­˜åœ¨ï¼Œæ‰è®¾ç½®                     | O(1)   |
| mget key1 key2 key3 ...| æ‰¹é‡è·å–keyï¼ŒåŸå­æ“ä½œ                | O(n)   |
| mset key1 value1 key2 value2 ... | æ‰¹é‡è®¾ç½®key-value          | O(n)   |
| getset key newvalue    | set key newvalueå¹¶è¿”å›æ—§çš„value     | O(1)   |
| append key value        | å°†valueè¿½åŠ åˆ°æ—§çš„value              | O(1)   |
| strlen key             | è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆæ³¨æ„ä¸­æ–‡ï¼‰        | O(1)   |
| incrbyfloat key 2.3    | å¢åŠ keyå¯¹åº”çš„å€¼2.3                  | O(1)   |
| getrange key start end  | è·å–å­—ç¬¦ä¸²æŒ‡å®šä¸‹æ ‡çš„æ‰€æœ‰å€¼          | O(1)   |
| setrange key index value| è®¾ç½®æŒ‡å®šä¸‹æ ‡ï¼ˆindexï¼‰æ‰€æœ‰å¯¹åº”çš„å€¼   | O(1)   |
 
::: tip
- EX æŒ‡å®šè¿‡æœŸçš„ç§’æ—¶é—´ï¼ŒPXæŒ‡å®šè¿‡æœŸçš„æ¯«ç§’æ—¶é—´
- NXï¼šåªæœ‰keyä¸å­˜åœ¨çš„æ—¶å€™ï¼Œæ‰è®¾ç½®æˆåŠŸ
- XXï¼šåªæœ‰keyå­˜åœ¨çš„æ—¶å€™ï¼Œæ‰è®¾ç½®æˆåŠŸ
- <span class="marker-text">5.0</span>æ”¯æŒsetå‘½ä»¤æŒ‡å®šè¿‡æœŸæ—¶é—´å’Œä¸å­˜åœ¨çš„æ—¶å€™æ‰è®¾ç½®æˆåŠŸï¼Œ<span class="marker-text">ä¹Ÿå°±æ˜¯é€šè¿‡ä¸€æ¡å‘½ä»¤å°±å¯ä»¥å®ç°åˆ†å¸ƒå¼é”åŠ é”çš„åŠŸèƒ½</span>ï¼Œä»¥å‰çš„ç‰ˆæœ¬è®¾ç½®keyå’Œè®¾ç½®è¿‡æœŸæ—¶é—´éœ€è¦åˆ†æˆä¸¤ä¸ªå‘½ä»¤ï¼ŒåŸå­æ€§ä¿è¯éš¾åº¦æ›´å¤§ã€‚
:::
### ä½¿ç”¨åœºæ™¯
#### åœºæ™¯1:çƒ­ç‚¹æ•°æ®ç¼“å­˜,åˆ†å¸ƒå¼ä¼šè¯
çƒ­ç‚¹æ•°æ®ç¼“å­˜æ¡ˆä¾‹:
```shell
SET cache_key value EX 3600
```
#### åœºæ™¯2:Setnxåˆ†å¸ƒå¼é”
**è·å–é”:ä½¿ç”¨SETå‘½ä»¤è®¾ç½®ä¸€ä¸ªé”®ï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚**
```shell
SET lock_key unique_identifier EX 10 NX
```
- lock_keyï¼šé”çš„é”®åã€‚
- unique_identifierï¼šä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œé€šå¸¸æ˜¯éšæœºç”Ÿæˆçš„ UUIDï¼Œç”¨äºåŒºåˆ†ä¸åŒçš„é”æŒæœ‰è€…ã€‚
- EX 10ï¼šè®¾ç½®é”çš„è¿‡æœŸæ—¶é—´ä¸º 10 ç§’ï¼Œé˜²æ­¢æ­»é”ã€‚
- NXï¼šä»…åœ¨é”®ä¸å­˜åœ¨æ—¶è®¾ç½®é”®ï¼Œç¡®ä¿åªæœ‰ä¸€ä¸ªå®¢æˆ·ç«¯å¯ä»¥è·å¾—é”ã€‚

**é‡Šæ”¾é”:é‡Šæ”¾é”æ—¶ï¼Œéœ€è¦ç¡®ä¿åªæœ‰æŒæœ‰é”çš„å®¢æˆ·ç«¯æ‰èƒ½é‡Šæ”¾å®ƒã€‚**
```shell
if (GET lock_key == unique_identifier) {
    DEL lock_key
}
```
æ£€æŸ¥å½“å‰æŒæœ‰è€…æ˜¯å¦ä¸ unique_identifier åŒ¹é…ï¼Œåªæœ‰åŒ¹é…æ—¶æ‰æ‰§è¡Œ DEL å‘½ä»¤ã€‚
### åœºæ™¯3:Incrè®¡æ•°å™¨/å…¨å±€ID
è®¡æ•°å™¨æ¡ˆä¾‹:
```shell
# åˆå§‹åŒ–è®¡æ•°å™¨
SET counter_key 0

# å¢åŠ è®¡æ•°å™¨
INCR counter_key   # counter_key çš„å€¼å˜ä¸º 1
INCR counter_key   # counter_key çš„å€¼å˜ä¸º 2

# æŸ¥çœ‹è®¡æ•°å™¨å€¼
GET counter_key    # è¿”å› 2
```

### åœºæ™¯5:Incré™æµ

### bit æ“ä½œ,ä½å›¾åŠŸèƒ½ï¼Œåœ¨çº¿ç”¨æˆ·ç»Ÿè®¡ 0/1æ ‡è®° 

### åº•å±‚åŸç†


## LISTï¼ˆåˆ—è¡¨ï¼‰

åˆ—è¡¨å¯ä»¥æœ‰åºå­˜å‚¨å¤šä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­å­—ç¬¦ä¸²å¯ä»¥ç›¸åŒã€‚

- LPUSH    å°†å…ƒç´ æ¨å…¥åˆ—è¡¨çš„å·¦ç«¯

- RPUSH    å°†å…ƒç´ æ¨å…¥åˆ—è¡¨çš„å³ç«¯

- LPOP    å°†å…ƒç´ ä»åˆ—è¡¨å·¦ç«¯å¼¹å‡º

- RPOP    å°†å…ƒç´ ä»åˆ—è¡¨å³ç«¯å¼¹å‡º

- LINDEX    è·å–åˆ—è¡¨åœ¨ç»™å®šä½ç½®ä¸Šçš„å•ä¸ªå…ƒç´ 

- LRANGE     è·å–åˆ—è¡¨åœ¨ç»™å®šèŒƒå›´çš„æ‰€æœ‰å…ƒç´ 

```shell
127.0.0.1:6379> rpush list-key item
(integer) 2
127.0.0.1:6379> rpop list-key
"item"
127.0.0.1:6379> rpop list-key
"item"
127.0.0.1:6379> rpush list-key item
(integer) 1
127.0.0.1:6379> rpush list-key item2
(integer) 2
127.0.0.1:6379> rpush list-key item
(integer) 3
127.0.0.1:6379> lrange list-key 0 -1
1) "item"
2) "item2"
3) "item"
127.0.0.1:6379> lindex list-key 1
"item2"
127.0.0.1:6379> lpop list-key
"item"
127.0.0.1:6379> lrange list-key 0 -1
1) "item2"
2) "item"
127.0.0.1:6379>
```

å¸¸ç”¨APIï¼š

| API                           | è¯´æ˜                             | å¤æ‚åº¦ |
|-------------------------------|----------------------------------|--------|
| lpush key value1 [value2]    | å°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼æ¨å…¥åˆ—è¡¨çš„å·¦ç«¯     | O(1)   |
| rpush key value1 [value2]    | å°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼æ¨å…¥åˆ—è¡¨çš„å³ç«¯     | O(1)   |
| linsert key before|after value newValue | åœ¨listæŒ‡å®šçš„å€¼å‰|åæ’å…¥newValue | O(n)   |
| lpop key                      | ç§»é™¤å¹¶è¿”å›åˆ—è¡¨æœ€å·¦ç«¯çš„å…ƒç´        | O(1)   |
| rpop key                      | ç§»é™¤å¹¶è¿”å›åˆ—è¡¨æœ€å³ç«¯çš„å…ƒç´        | O(1)   |
| ltrim key start end           | æŒ‰ç…§ç´¢å¼•èŒƒå›´ä¿®å‰ªåˆ—è¡¨             | O(n)   |
| lindex key offset             | è¿”å›åˆ—è¡¨ä¸­åç§»é‡ä¸ºoffsetçš„å…ƒç´    | O(n)   |
| lrange key start end          | è·å–åˆ—è¡¨æŒ‡å®šç´¢å¼•èŒƒå›´æ‰€æœ‰å…ƒç´      | O(n)   |
| llen key                      | è·å–åˆ—è¡¨é•¿åº¦                     | O(1)   |
| lset key index newValue       | è®¾ç½®åˆ—è¡¨æŒ‡å®šç´¢å¼•å€¼ä¸ºnewValue     | O(n)   |
| blpop key timeout             | lpopé˜»å¡ç‰ˆæœ¬ï¼Œtimeoutä¸ºé˜»å¡è¶…æ—¶æ—¶é—´ï¼Œ=0ä¸ºä¸é˜»å¡ | O(1)   |
| brpop key timeout             | rpopé˜»å¡ç‰ˆæœ¬ï¼Œtimeoutä¸ºé˜»å¡è¶…æ—¶æ—¶é—´ï¼Œ=0ä¸ºä¸é˜»å¡ | O(1)   |

## SETï¼ˆé›†åˆï¼‰                   
é›†åˆå¯ä»¥å­˜å‚¨ä¸åŒå¤šä¸ªå­—ç¬¦ä¸²ï¼Œä¸”æ— åº
- SADD    å°†å…ƒç´ æ·»åŠ åˆ°é›†åˆä¸­

- SREM    ä»é›†åˆé‡Œé¢ç§»é™¤å…ƒç´ ï¼Œå¦‚æœè¿™ä¸ªå…ƒç´ å­˜åœ¨

- SISMEMBER    å¿«é€Ÿæ£€æŸ¥ä¸€ä¸ªå…ƒç´ æ˜¯å¦å·²ç»å­˜åœ¨é›†åˆä¸­

- SMEMBERS    è·å–é›†åˆåŒ…å«çš„æ‰€æœ‰å…ƒç´ ï¼ˆå¦‚æœé›†åˆåŒ…å«çš„å…ƒç´ éå¸¸å¤šï¼Œé‚£ä¹ˆå‘½ä»¤æ‰§è¡Œé€Ÿåº¦å›å¾ˆæ…¢ï¼Œè°¨æ…ä½¿ç”¨ï¼‰

```shell
127.0.0.1:6379> sadd set-key item
(integer) 1
127.0.0.1:6379> sadd set-key item2
(integer) 1
127.0.0.1:6379> sadd set-key item3
(integer) 1
127.0.0.1:6379> sadd set-key item
(integer) 0
127.0.0.1:6379> smembers set-key
1) "item3"
2) "item2"
3) "item"
127.0.0.1:6379> sismember set-key item4
(integer) 0
127.0.0.1:6379> sismember set-key item
(integer) 1
127.0.0.1:6379> srem set-key item2
(integer) 1
127.0.0.1:6379> srem set-key item2
(integer) 0
127.0.0.1:6379> smembers set-key
1) "item3"
2) "item"
127.0.0.1:6379>
```
å¸¸ç”¨APIï¼š

| API                     | è¯´æ˜                                    | å¤æ‚åº¦ |
|-------------------------|-----------------------------------------|--------|
| sadd key element        | å‘é›†åˆkeyæ·»åŠ elementï¼ˆå¦‚æœelementå·²ç»å­˜åœ¨ï¼Œæ·»åŠ å¤±è´¥ï¼‰ | O(1)   |
| srem key element        | å°†é›†åˆkeyä¸­çš„elementç§»é™¤               | O(1)   |
| sismember key element   | æ£€æŸ¥å…ƒç´ elementæ˜¯å¦å­˜åœ¨äºé›†åˆkeyä¸­     | O(1)   |
| smembers key            | è¿”å›é›†åˆåŒ…å«çš„æ‰€æœ‰å…ƒç´                   | O(N)   |


## HASHï¼ˆæ•£åˆ—ï¼‰

Rediså¯ä»¥å­˜å‚¨å¤šä¸ªé”®å€¼å¯¹ä¹‹é—´çš„æ˜ å°„ï¼Œhash æ˜¯ä¸€ä¸ªstringç±»å‹çš„fieldå’Œvalueçš„æ˜ å°„è¡¨ï¼Œé€‚åˆå­˜å‚¨å¯¹è±¡ã€‚ 
- HSET    åœ¨æ•£åˆ—é‡Œé¢å…³è”èµ·ç»™å®šçš„é”®å€¼å¯¹
- HGET    è·å–æŒ‡å®šæ•£åˆ—é”®çš„å€¼
- HGETALL    è·å–æ•£åˆ—åŒ…å«çš„æ‰€æœ‰é”®å€¼å¯¹
- HDEL    å¦‚æœç»™å®šé”®å­˜åœ¨äºæ•£åˆ—é‡Œé¢ï¼Œé‚£ä¹ˆåˆ é™¤è¿™ä¸ªé”®

```shell
127.0.0.1:6379> hset hash-key sub-key1 value1
(integer) 1
127.0.0.1:6379> hset hash-key sub-key2 value2
(integer) 1
127.0.0.1:6379> hset hash-key sub-key1 value1
(integer) 0
127.0.0.1:6379> hgetall hash-key
1) "sub-key1"
2) "value1"
3) "sub-key2"
4) "value2"
127.0.0.1:6379> hdel hash-key sub-key2
(integer) 1
127.0.0.1:6379> hdel hash-key sub-key2
(integer) 0
127.0.0.1:6379> hget hash-key sub-key1
"value1"
127.0.0.1:6379> hgetall hash-key
1) "sub-key1"
2) "value1"
127.0.0.1:6379>
```

| API                             | è¯´æ˜                                     | å¤æ‚åº¦ |
|---------------------------------|------------------------------------------|--------|
| hget key field                  | è·å–hash keyå¯¹åº”çš„fieldçš„value          | O(1)   |
| hset key field value            | è®¾ç½®hash keyå¯¹åº”çš„fieldçš„value          | O(1)   |
| hdel key field                  | åˆ é™¤hash keyå¯¹åº”çš„fieldçš„value          | O(1)   |
| hexists key field               | åˆ¤æ–­hash keyæ˜¯å¦æœ‰field                 | O(1)   |
| hlen key                        | è·å–hash key fieldçš„æ•°é‡                 | O(1)   |
| hmget key field1 field2 ...     | æ‰¹é‡è·å–hash keyçš„ä¸€æ‰¹fieldå¯¹åº”çš„å€¼     | O(n)   |
| hmset key field1 value1 field2 value2 ... | æ‰¹é‡è®¾ç½®hash keyçš„ä¸€æ‰¹field value | O(n)   |
| hgetall key                    | è¿”å›hash keyå¯¹åº”æ‰€æœ‰çš„fieldå’Œvalue      | O(n)   |
| hvals key                      | è¿”å›hash keyå¯¹åº”æ‰€æœ‰fieldçš„value        | O(n)   |
| hkeys key                      | è¿”å›hash keyå¯¹åº”æ‰€æœ‰field                | O(n)   |
| hsetnx key field value          | è®¾ç½®hash keyå¯¹åº”çš„fieldçš„valueï¼ˆå¦‚æœfieldå·²ç»å­˜åœ¨ï¼Œåˆ™å¤±è´¥ï¼‰ | O(1)   |
| hincrby key field intCounter    | hash keyå¯¹åº”çš„fieldçš„valueè‡ªå¢intCounter | O(1)   |
| hincrbyfloat key field floatCounter | hash keyå¯¹åº”çš„fieldçš„valueè‡ªå¢floatCounter | O(1)   |

## ZSETï¼ˆæœ‰åºé›†åˆï¼‰

æœ‰åºé›†åˆå’Œæ•£åˆ—ä¸€æ ·ï¼Œéƒ½ç”¨äºå­˜å‚¨é”®å€¼å¯¹ï¼šæœ‰åºé›†åˆçš„é”®è¢«ç§°ä¸ºæˆå‘˜ï¼ˆmemberï¼‰ï¼Œæ¯ä¸ªæˆå‘˜éƒ½æ˜¯å„ä¸ç›¸åŒçš„ï¼›æœ‰åºé›†åˆçš„å€¼è¢«ç§°ä¸ºåˆ†å€¼ï¼ˆscoreï¼‰ï¼Œåˆ†å€¼å¿…é¡»ä½¿ç”¨æµ®ç‚¹æ•°ã€‚æœ‰åºé›†åˆæ˜¯Redisé‡Œé¢å”¯ä¸€ä¸€ä¸ªæ—¢å¯ä»¥æ ¹æ®æˆå‘˜è®¿é—®å…ƒç´ ï¼Œåˆå¯ä»¥æ ¹æ®åˆ†å€¼ä»¥åŠåˆ†å€¼çš„æ’åˆ—é¡ºåºæ¥è®¿é—®å…ƒç´ çš„ç»“æ„ã€‚

ä½¿ç”¨åœºæ™¯ï¼šä¾‹å¦‚åŸºäºå‘è¡¨æ—¶é—´æ’åºçš„æ–‡ç« åˆ—è¡¨ã€åŸºäºæŠ•ç¥¨æ•°é‡æ’åºçš„æ–‡ç« åˆ—è¡¨ç­‰ã€‚

- ZADD    å°†ä¸€ä¸ªå¸¦æœ‰ç»™å®šåˆ†å€¼çš„æˆå‘˜æ·»åŠ åˆ°æœ‰åºé›†åˆé‡Œé¢
- ZRANGE    æ ¹æ®å…ƒç´ åœ¨æœ‰åºæ’åˆ—ä¸­æ‰€å¤„çš„ä½ç½®ï¼Œä»æœ‰åºé›†åˆä¸­å–å‡ºå¤šä¸ªå…ƒç´ 
- ZRANGEBYSCORE    è·å–æœ‰åºé›†åˆåœ¨ç»™å®šåˆ†å€¼èŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´ 
- ZREM    å¦‚æœç»™å®šæˆå‘˜å­˜åœ¨äºæœ‰åºé›†åˆä¸­ï¼Œé‚£ä¹ˆç§»é™¤è¿™ä¸ªæˆå‘˜

```shell
127.0.0.1:6379> zadd zset-key 728 member1
(integer) 1
127.0.0.1:6379> zadd zset-key 985 member0
(integer) 1
127.0.0.1:6379> zadd zset-key 985 member0
(integer) 0
127.0.0.1:6379> zrange zset-key 0 -1 withscores
1) "member1"
2) "728"
3) "member0"
4) "985"
127.0.0.1:6379> zrangebyscore zset-key 0 800 withscores
1) "member1"
2) "728"
127.0.0.1:6379> zrem zset-key member1
(integer) 1
127.0.0.1:6379> zrem zset-key member1
(integer) 0
127.0.0.1:6379> zrange zset-key 0 -1 withscores
1) "member0"
2) "985"
127.0.0.1:6379>
```
 å¸¸ç”¨APIï¼š
| API                                      | è¯´æ˜                                     | å¤æ‚åº¦         |
|------------------------------------------|------------------------------------------|----------------|
| zadd key score element                   | æ·»åŠ scoreå’Œelement                      | O(logN)        |
| zrem key element                         | åˆ é™¤å…ƒç´                                 | O(1)           |
| zscore key element                       | è¿”å›å…ƒç´ çš„åˆ†æ•°                          | O(1)           |
| zincrby key increScore element           | å¢åŠ æˆ–å‡å°‘å…ƒç´ çš„åˆ†æ•°                   | O(1)           |
| zcard key                               | è¿”å›å…ƒç´ çš„æ€»ä¸ªæ•°                        | O(1)           |
| zrange key start end [WITHSCORES]       | è¿”å›æŒ‡å®šç´¢å¼•èŒƒå›´å†…çš„å‡åºå…ƒç´ ã€åˆ†å€¼ã€‘  | O(log(n)+m)    |
| zrangebyscore key minScore maxScore [WITHSCORES] | è¿”å›æŒ‡å®šåˆ†æ•°èŒƒå›´å†…çš„å‡åºå…ƒç´ ã€åˆ†å€¼ã€‘ | O(log(n)+m)    |
| zcount key minScore maxScore            | è¿”å›æœ‰åºé›†åˆå†…åœ¨æŒ‡å®šåˆ†æ•°èŒƒå›´å†…çš„ä¸ªæ•°  | O(log(n)+m)    |
| zremrangebyrank key start end           | åˆ é™¤æŒ‡å®šæ’åå†…çš„å‡åºå…ƒç´               | O(log(n)+m)    |
| zremrangebyscore key minScore maxScore  | åˆ é™¤æŒ‡å®šåˆ†æ•°å†…çš„å‡åºå…ƒç´               | O(log(n)+m)    |

